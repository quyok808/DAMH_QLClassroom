@{
    ViewData["Title"] = "OnlyA";
}
<style>
    .image_banner{
        width: 1100px;
        height: 300px;
    }
}
</style>
<div class="container">
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item active">
                <img src="https://file1.hutech.edu.vn/file/slider/f4bc1b922ec864d0cfe84cf9382fa359.jpg" alt="Slide 1" class="image_banner">
            </div>
            <div class="item">
                <img src="https://file1.hutech.edu.vn/file/slider/38ce9cac8573fd8219ae19a0a0565176.png" alt="Slide 2" class="image_banner">
            </div>
            <div class="item">
                <img src="https://file1.hutech.edu.vn/file/slider/b8c36131bc826fd5776e1c3ea07a0128.jpg" alt="Slide 3" class="image_banner">
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="sidebar">
        <h2>Chủ đề</h2>
        <!-- Nội dung của cột chủ đề -->
        <ul>
            <li><a href="https://sinhvien.hutech.edu.vn">Sinh viên Hutech</a></li>
            <li><a href="https://daotao.hutech.edu.vn/">Cổng Thông Tin Đào Tạo</a></li>
            <li><a href="https://apps.lms.hutech.edu.vn/home">E-Learning Hutech</a></li>
            <!-- Thêm các mục chủ đề khác cần thiết -->
        </ul>
    </div>
    <div class="main-content">
        <!-- Nội dung của trang chính -->

    </div>
    <div class="sidebar-right" style="height: 916px;">
        <div id="posts_container">
            <!-- Danh sách bài viết sẽ được hiển thị ở đây -->
        </div>
       
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Lấy địa chỉ URL hiện tại
        var url = window.location.href;

        // Lấy tất cả các mục trong thanh menu
        var menuItems = document.querySelectorAll('nav ul li a');

        // Lặp qua từng mục trong thanh menu
        menuItems.forEach(function (item) {
            // Kiểm tra nếu địa chỉ URL chứa đường dẫn của mục đó
            if (url.indexOf(item.getAttribute('href')) > -1) {
                // Thêm lớp 'selected' cho mục đó
                item.classList.add('selected');
            }
        });
    });
    /*bài post*/
    $(document).ready(function () {
        const postsContainer = $('#posts_container');
        const mainContent = $('.main-content');
        let currentIndex = -1;

        async function fetchPosts() {
            try {
                const response = await fetch("https://script.google.com/macros/s/AKfycbyf_E0bAmFqn9i1m_efPwvYXPfUYMBJc9KQ_J1jKOwlBwFBFIGxLQ7kpEuK3lQJml7r/exec");
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                displayPosts(data);
                startAutoRotation();
            } catch (error) {
                console.error('Error fetching posts:', error);
            }
        }

        function displayPosts(posts) {
            postsContainer.empty(); // Clear existing posts
            posts.forEach(post => {
                const postElement = $(`
                        <div class="post">
                            <center><h3 style="margin-top: 10px">${post.title}</h3></center>
                               ${post.image ? `<img src="${post.image}" alt="Hình ảnh bài viết">` : ''}
                            <div class="post-content">
                                ${post.contents_}
                            </div>
                        </div>
                    `);
                postsContainer.append(postElement);
            });
        }

        function startAutoRotation() {
            const posts = $(".sidebar-right .post");
            setInterval(function () {
                rotatePosts(posts);
            }, 3000); // 3 seconds
        }

        function rotatePosts(posts) {
            const nextIndex = (currentIndex + 1) % posts.length;
            const nextPost = $(posts[nextIndex]);

            $(".sidebar-right").prepend(nextPost);

            currentIndex = nextIndex;

            const clonedContent = nextPost.clone();
            clonedContent.removeClass('post');
            clonedContent.css({ 'border': 'none', 'height': 'auto' });
            mainContent.html(clonedContent);
        }

        fetchPosts();
    });
</script>